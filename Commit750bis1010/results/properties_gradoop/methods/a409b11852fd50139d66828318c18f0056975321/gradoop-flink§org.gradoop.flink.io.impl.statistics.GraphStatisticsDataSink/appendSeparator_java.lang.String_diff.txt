/**
 * Appends a file separator to the given directory (if not already existing).
 *
 * @param directory directory
 * @return directory with OS specific file separator
 */
private String appendSeparator(final String directory) {
    final String fileSeparator = System.getProperty("file.separator");
    String result = directory;
    if (!directory.endsWith(fileSeparator)) {
        result = directory + fileSeparator;
    }
    return result;
}