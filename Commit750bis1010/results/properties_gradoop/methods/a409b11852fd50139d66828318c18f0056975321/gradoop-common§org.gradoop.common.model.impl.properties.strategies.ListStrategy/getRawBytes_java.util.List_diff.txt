/**
 * {@inheritDoc}
 * @throws IOException if converting the value to a byte array fails.
 */
@Override
public byte[] getRawBytes(List<PropertyValue> value) throws IOException {
    int size = value.stream().mapToInt(PropertyValue::byteSize).sum() + PropertyValue.OFFSET;
    try (ByteArrayOutputStream byteStream = new ByteArrayOutputStream(size);
        DataOutputStream outputStream = new DataOutputStream(byteStream);
        DataOutputViewStreamWrapper outputView = new DataOutputViewStreamWrapper(outputStream)) {
        outputStream.write(getRawType());
        for (PropertyValue entry : value) {
            entry.write(outputView);
        }
        return byteStream.toByteArray();
    } catch (IOException e) {
        throw new IOException("Error writing PropertyValue with ListStrategy.", e);
    }
}