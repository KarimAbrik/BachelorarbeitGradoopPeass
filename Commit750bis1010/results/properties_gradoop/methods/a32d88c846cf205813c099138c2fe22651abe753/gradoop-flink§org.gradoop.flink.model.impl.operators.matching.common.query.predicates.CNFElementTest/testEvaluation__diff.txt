@Test
public void testEvaluation() {
    String queryString = "MATCH (a), (b), (c)" + "WHERE a=b OR a.name = \"Alice\" OR a.age > c.age";
    QueryHandler query = new QueryHandler(queryString);
    CNFElement cnfElement = query.getPredicates().getPredicates().get(0);
    EmbeddingMetaData metaData = new EmbeddingMetaData();
    metaData.setEntryColumn("a", EntryType.VERTEX, 0);
    metaData.setEntryColumn("b", EntryType.VERTEX, 1);
    metaData.setEntryColumn("c", EntryType.VERTEX, 2);
    metaData.setPropertyColumn("a", "name", 0);
    metaData.setPropertyColumn("a", "age", 1);
    metaData.setPropertyColumn("c", "age", 2);
    GradoopId a = GradoopId.get();
    GradoopId c = GradoopId.get();
    //Should be true if a = b
    Embedding embedding = new Embedding();
    embedding.add(a, PropertyValue.create("Alfred"), PropertyValue.create(42));
    embedding.add(a);
    embedding.add(c, PropertyValue.create(42));
    assertTrue(cnfElement.evaluate(embedding, metaData));
    //Should be true if a.name = "Alice"
    embedding = new Embedding();
    embedding.add(a, PropertyValue.create("Alice"), PropertyValue.create(42));
    embedding.add(GradoopId.get());
    embedding.add(c, PropertyValue.create(42));
    assertTrue(cnfElement.evaluate(embedding, metaData));
    //Should be true if a.age > c.age
    embedding = new Embedding();
    embedding.add(a, PropertyValue.create("Alfred"), PropertyValue.create(42));
    embedding.add(GradoopId.get());
    embedding.add(c, PropertyValue.create(23));
    assertTrue(cnfElement.evaluate(embedding, metaData));
    //Should be false otherwise
    embedding = new Embedding();
    embedding.add(a, PropertyValue.create("Alfred"), PropertyValue.create(42));
    embedding.add(GradoopId.get());
    embedding.add(c, PropertyValue.create(42));
    assertFalse(cnfElement.evaluate(embedding, metaData));
}