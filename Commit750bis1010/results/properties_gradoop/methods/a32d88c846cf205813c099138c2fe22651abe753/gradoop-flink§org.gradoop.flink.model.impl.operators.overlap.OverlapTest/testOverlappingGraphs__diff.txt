@Test
public void testOverlappingGraphs() throws Exception {
    FlinkAsciiGraphLoader loader = getSocialNetworkLoader();
    loader.appendToDatabaseFromString("expected[(alice)-[akb]->(bob)-[bka]->(alice)]");
    LogicalGraph g0 = loader.getLogicalGraphByVariable("g0");
    LogicalGraph g2 = loader.getLogicalGraphByVariable("g2");
    LogicalGraph expected = loader.getLogicalGraphByVariable("expected");
    assertTrue("combining overlapping graphs failed", expected.equalsByElementIds(g0.overlap(g2)).collect().get(0));
    assertTrue("combining switched overlapping graphs failed", expected.equalsByElementIds(g2.overlap(g0)).collect().get(0));
}