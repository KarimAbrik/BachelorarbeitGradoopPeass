@Test
public void testOverlappingGraphs() throws Exception {
    FlinkAsciiGraphLoader loader = getSocialNetworkLoader();
    loader.appendToDatabaseFromString("expected[" + "(alice)-[akb]->(bob)" + "(bob)-[bka]->(alice)" + "(bob)-[bkc]->(carol)" + "(carol)-[ckb]->(bob)" + "(carol)-[ckd]->(dave)" + "(dave)-[dkc]->(carol)" + "(eve)-[eka]->(alice)" + "(eve)-[ekb]->(bob)]");
    LogicalGraph g0 = loader.getLogicalGraphByVariable("g0");
    LogicalGraph g2 = loader.getLogicalGraphByVariable("g2");
    LogicalGraph expected = loader.getLogicalGraphByVariable("expected");
    assertTrue("combining overlapping graphs failed", expected.equalsByElementIds(g0.combine(g2)).collect().get(0));
    assertTrue("combining switched overlapping graphs failed", expected.equalsByElementIds(g2.combine(g0)).collect().get(0));
}